@import 'tailwindcss';

@layer theme {
	:root {
		--font-sans:
			'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
			'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
		--ink: 20 20 20;
		--paper: 255 255 255;
		--radius: 15px;
		--badge-radius: 8px;
		--border-w: 2px;
		--shadow-offset: 8px;
		--dot-size: 4px;
		--dot-alpha: 0.6;
		--bg-image: url('/images/flower.webp');
		--grain: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 0 0 0.035'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
	}
}

@layer utilities {
	.manga-panel {
		background: white;
		border: var(--border-w) solid black;
		border-radius: var(--radius);
		box-shadow: var(--shadow-offset) var(--shadow-offset) 0 0 rgb(0 0 0);
	}

	.dot-bg {
		background-image: radial-gradient(rgba(0, 0, 0, var(--dot-alpha)) 1px, transparent 1px);
		background-size: var(--dot-size) var(--dot-size);
		background-position: top left;
		opacity: 1;
	}

	.no-badge {
		display: inline-block;
		padding: 0.25rem 0.5rem;
		border: var(--border-w) dotted black;
		border-radius: var(--badge-radius);
		background: white;
		font-size: 0.75rem;
		text-transform: uppercase;
		letter-spacing: 0.08em;
	}
}

html,
body {
	height: auto;
}

body {
	background-color: #fff;
	color: rgb(var(--ink));
	font-family: var(--font-sans);
	background-image: url('/images/background.webp');
	background-repeat: no-repeat;
	background-position: center bottom;
	background-size: 100% auto;
	background-attachment: fixed;
	overflow-x: hidden;
}

.bg-fader {
	display: none;
}

.page-layer {
	position: relative;
	z-index: 1;
	padding-bottom: env(safe-area-inset-bottom);
}

.stack > * + * {
	margin-top: 0.6rem;
}

.poem {
	white-space: pre-wrap;
	line-height: 1.85;
	letter-spacing: 0.01em;
}

.poem em {
	font-style: italic;
}

.poem strong {
	font-weight: 600;
}

.manga-card {
	background: white;
	border: var(--border-w) solid black;
	border-radius: var(--radius);
	box-shadow: var(--shadow-offset) var(--shadow-offset) 0 0 rgb(0 0 0);
}
